{% extends 'base.html.twig' %}

{% block title %}Quiz{% endblock %}

{% block body %}
    <h1>Quiz</h1>

    <table class="table">
        <tbody>
            <tr>
                <th>Id</th>
                <td>{{ quiz.id }}</td>
                <td><a href="{{ path('quiz_delete', {'id': quiz.id}) }}">delete</a></td>
                <td><a href="{{ path('question_new', {'id_quiz': quiz.id, 'nb_question' : '-1'}) }}">Add new question</a></td>
            </tr>
            <tr>
                <th>Nom_quiz</th>
                <td>{{ quiz.nomQuiz }}</td>
                <td><a href="{{ path('quiz_edit', {'id': quiz.id}) }}">edit</a></td>

            </tr>
            <tr>
                <th>Nomb_question</th>
                <td>{{ quiz.nombQuestion }}</td>
            </tr>
            {% for ques in quiz.questions %}
                <tr>
                <td></td>
                    <th>Question</th>
                <td>{{ ques.contenuQues }}</td>
                <td><a href="{{ path('question_edit', {'id': ques.id}) }}">edit</a></td>
                <td><a href="{{ path('question_delete', {'id': ques.id}) }}">delete</a></td>
                <td><a href="{{ path('reponse_add', {'ques_id': ques.id}) }}">Add new reponse</a></td>
                {% for reponse in ques.reponses %}
                    <tr>
                        <td></td><td></td>
                        <th>Reponse</th>
                        {% if not(ques.repjust is null) and ques.repjust.id == reponse.id %}
                        <td style="background-color:limegreen">{{ reponse.contenuRep }}</td>
                        {% else %}
                            <td>{{ reponse.contenuRep }}</td>
                        {% endif %}

                        <td><a href="{{ path('reponse_edit', {'id': reponse.id}) }}">edit</a></td>
                        <td><a href="{{ path('reponse_delete', {'id': reponse.id}) }}">delete</a></td>
                        <td><a href="{{ path('reponse_correct', {'id': reponse.id}) }}">make the correct reponse</a></td>

                    </tr>
                {% endfor %}
                </tr>
        {% endfor %}
        </tbody>
    </table>

    <a href="{{ path('quiz_index') }}">back to list</a>

    <a href="{{ path('quiz_edit', {'id': quiz.id}) }}">edit</a>

    {{ include('quiz/_delete_form.html.twig') }}
{% endblock %}
