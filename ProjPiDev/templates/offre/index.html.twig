{% extends 'base.html.twig' %}

{% block title %}Offre d'emploi{% endblock %}

{% block body %}
    <!-- Page Content -->
    <div class="page-heading contact-heading header-text" style="background-image: url({{asset('assets/images/heading-4-1920x500.jpg') }});">
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <div class="text-content">
                        <h4>Recrutini</h4>
                        <h2>offre d'emploi</h2>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Banner Ends Here -->
    <br>
    <br>
    <br>
    <div class="col-lg-12 stretch-card">
        <div class="card">
            <div class="card-body">
                <h4 class="card-title">Table des offre d'emploi</h4>
                <div class="col-md-6 card-description">
                    <a id="form-submit" class="filled-button" href="{{ path('offre_new') }}">
                        <i class="fa fa-plus" aria-hidden="true"></i> Ajouter offre
                    </a>
                </div>
                <div class="table-responsive pt-3">
                    <table class="table table-bordered">
                        <thead>
                        <tr class="table-danger">
                            <th scope="col">Post</th>
                            <th scope="col">Salaire</th>
                            <th scope="col">Date Depot</th>
                            <th scope="col">Date Expiration</th>
                            <th scope="col">Nombre Place</th>
                            <th scope="col">Experience Maximal</th>
                            <th scope="col">Contrat</th>
                            <th scope="col">Action</th>
                        </tr>
                        </thead>
                        <tbody>
                        {% for offre in offres %}
                        <tr >
                            <td>{{ offre.post }}</td>
                            <td>{{ offre.salaire }} DT</td>
                            <td>{{ offre.dateDepo ? offre.dateDepo|date('Y-m-d') : '' }}</td>
                            <td>{{ offre.dateExpiration ? offre.dateExpiration|date('Y-m-d') : '' }}</td>
                            <td>{{ offre.nombrePlace }}</td>
                            <td>{{ offre.experienceMax }} ans</td>
                            <td>{{ offre.contrat.type }}</td>
                            <td>
                                <a href="{{ path('offre_show', {'id': offre.id}) }}" class="text-danger">
                                    <i class="fa fa-caret-down" aria-hidden="true"></i> Plus
                                </a>
                                <br>
                                <a href="{{ path('offre_edit', {'id': offre.id}) }}" class="text-danger">
                                    <i class="fa fa-pencil" aria-hidden="true"></i> Modifir
                                </a>
                            </td>
                        </tr>
                        {% endfor %}
                        </tbody>
                    </table>
                    <div class="col-md-12 text-danger" style=" justify-content: center ; display: flex">
                        {{ knp_pagination_render(
                            offres,
                            '@KnpPaginator/Pagination/twitter_bootstrap_v4_pagination.html.twig',
                            {
                                'queryParam1': 'param1 value',
                                'queryParam2': 'param2 value'
                            },
                            {
                                'viewParam1': 'param1 value',
                                'viewParam2': 'param2 value'
                            },
                        ) }}
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
